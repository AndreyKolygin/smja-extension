<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/popup.css">
  <title>JDA</title>
</head>
<body>
<div class="popup">
  <div class="jda-app-overlay-header" hidden>
    <div class="jda-theme-toggle-wrapper">
      <div class="jda-theme-toggle" role="radiogroup" aria-label="Switch theme">
        <button type="button" role="radio" data-theme-option="dark" aria-checked="false" data-active="false" title="Dark theme">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
          </svg>
        </button>
        <button type="button" role="radio" data-theme-option="system" aria-checked="true" data-active="false" title="Match system theme">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
            <path d="M8 21h8"></path>
            <path d="M12 17v4"></path>
          </svg>
        </button>
        <button type="button" role="radio" data-theme-option="light" aria-checked="false" data-active="false" title="Light theme">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <path d="M12 1v2"></path>
            <path d="M12 21v2"></path>
            <path d="M4.22 4.22l1.42 1.42"></path>
            <path d="M18.36 18.36l1.42 1.42"></path>
            <path d="M1 12h2"></path>
            <path d="M21 12h2"></path>
            <path d="M4.22 19.78l1.42-1.42"></path>
            <path d="M18.36 5.64l1.42-1.42"></path>
          </svg>
        </button>
      </div>
    </div>
    <div class="jda-app-overlay-actions">
      <button type="button" data-action="refresh" class="jda-app-overlay-refresh icon-only icon-18 i-refresh" title="Refresh" aria-label="Refresh"></button>
      <button type="button" data-action="meta" class="jda-app-overlay-meta" title="Page meta data" aria-label="Page meta data">M</button>
      <button type="button" data-action="menu" class="jda-app-overlay-menu icon-only icon-18 i-settings" title="Settings" aria-label="Settings"></button>
      <button type="button" data-action="close" title="Close">✕</button>
    </div>
  </div>
  <div class="sidepanel-toolbar" hidden>
    <div class="jda-theme-toggle-wrapper">
      <div class="jda-theme-toggle" role="radiogroup" aria-label="Switch theme">
        <button type="button" role="radio" data-theme-option="dark" aria-checked="false" data-active="false" title="Dark theme">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
          </svg>
        </button>
        <button type="button" role="radio" data-theme-option="system" aria-checked="true" data-active="false" title="Match system theme">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
            <path d="M8 21h8"></path>
            <path d="M12 17v4"></path>
          </svg>
        </button>
        <button type="button" role="radio" data-theme-option="light" aria-checked="false" data-active="false" title="Light theme">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <path d="M12 1v2"></path>
            <path d="M12 21v2"></path>
            <path d="M4.22 4.22l1.42 1.42"></path>
            <path d="M18.36 18.36l1.42 1.42"></path>
            <path d="M1 12h2"></path>
            <path d="M21 12h2"></path>
            <path d="M4.22 19.78l1.42-1.42"></path>
            <path d="M18.36 5.64l1.42-1.42"></path>
          </svg>
        </button>
      </div>
    </div>
    <div class="jda-app-overlay-actions">
      <button type="button" data-action="refresh" class="jda-app-overlay-refresh icon-only icon-18 i-refresh" title="Refresh" aria-label="Refresh"></button>
      <button type="button" data-action="meta" class="jda-app-overlay-meta" title="Page meta data" aria-label="Page meta data">M</button>
      <button type="button" data-action="menu" class="jda-app-overlay-menu icon-only icon-18 i-settings" title="Settings" aria-label="Settings"></button>
      <button type="button" data-action="close" title="Close">✕</button>
    </div>
  </div>
  <div class="unsupported-panel" id="unsupportedPanel" hidden>
    <div class="unsupported-title" data-i18n="ui.popup.warning">Content cannot be analyzed.</div>
    <div class="unsupported-text" data-i18n="ui.popup.warning2">Only http and https URLs are supported.</div>
    <button type="button" id="unsupportedSettings" class="btn ghost icon-left i-settings" data-i18n="ui.menu.options">Settings</button>
  </div>
  <div class="popup-content">
    <div>
      <div class="selectors">
        <div class="select-row">
          <span class="select-label" data-i18n="ui.popup.modelLabel">LLM</span>
          <select id="modelSelect" class="select input" data-i18n-attr-title="ui.popup.modelSelectTitle" title="Select your LLM"></select>
        </div>
        <div class="select-row">
          <span class="select-label" data-i18n="ui.popup.cvLabel">CV</span>
          <select id="cvSelect" class="select input" data-i18n-attr-title="ui.popup.cvSelectTitle" title="Select resume"></select>
        </div>
      </div>
    </div>

<!-- body-->
    <div class="body-analyzer">
    <div class="row highligter">
      <button id="selectBtn" data-i18n="ui.popup.select" class="btn highlight icon-left i-select">Select job description</button>
      <button id="fastStartBtn" class="btn third icon-left i-autograb hidden" hidden data-i18n="ui.popup.autograb" title="Auto-grab job description by site rule" data-i18n-attr-title="ui.popup.autograb">Auto-grab</button>
    </div>
    <!-- text blocks-->
    <div class="label-row">
      <label for="jobInput" class="label" data-i18n="ui.popup.jobDescription">Job description:</label>
      <span id="cachedBadge" class="badge badge-cached" data-i18n="ui.popup.cached" data-i18n-attr-title="ui.popup.cachedTitle" title="Cached" hidden>cached</span>
    </div>
    <textarea id="jobInput" class="result" data-i18n-ph="ui.popup.placeholder.jobdesc" placeholder="Paste or select a job description here..."></textarea>
    <div class="row">
      <button id="analyzeBtn" data-i18n="ui.popup.analyze" class="btn primary analyze icon-left icon-center i-magic" data-i18n-attr-title="ui.popup.analyzeTitle" title="Start analyze">Analyze</button>
      <button id="clearBtn" data-i18n="ui.popup.startover" class="btn secondary icon-left i-startover">Start over</button>
    </div>
    <div class="label-row progress-row">
      <label for="resultView" class="label" data-i18n="ui.popup.positionMresult">Position matching result:</label>
      <div class="progress" id="progress" data-ms="0" data-i18n="ui.popup.progress">Progress: 0 ms</div>
    </div>
    <div id="resultView" class="result-view prose" aria-live="polite"></div>
    <div class="progress token-estimate" id="tokenEstimate" data-i18n="ui.popup.tokensEstimate" hidden>Approx. tokens: ~0</div>

    <!-- buttons -->
    <div class="footer">
      <!-- <div></div> -->
        <button id="copyBtn" data-i18n="ui.popup.copy" class="btn ghost icon-left i-copy" data-i18n-attr-title="ui.popup.copyTitle" title="Copy the result to the clipboard and paste it where you need it">Copy</button>
        <button id="notionBtn" class="btn ghost icon-left notion-btn i-notion" data-i18n-attr-title="ui.popup.notionTitle" title="Save to Notion" data-i18n="ui.popup.notion" aria-label="Save to Notion" hidden>Notion</button>
        <button id="saveBtn" data-i18n="ui.popup.save" class="btn ghost icon-left i-file" data-i18n-attr-title="ui.popup.saveTitle" title="Save the result to Markdown (*.md) file">Save to file</button>
      <!-- <div>

      </div> -->

    </div>
    </div>
  </div>
</div>
<script type="module" src="popup.js"></script>
</body>
</html>
